2018-8-7 22:57--23:46
### 序言
神在细节之中。

### 代码猴子与童子军军规
“写整洁的代码， 需要遵循大量的小技巧”
Test Obsessed(沉迷测试)

### 前言
书分3部分
1. 编写整洁代码的原则
1. 最需要花功夫， 包括几个复杂性不断增加的案例研究
1. 列出上述案例研究中得到的启示和灵感

----------

#### 第一章 整洁代码
Object Mentor 整洁代码流派
“读与写花费时间的比利超过10:1”
“写新代码是， 我们一直在读旧代码”
“编写代码的难度， 取决于读周边代码的难度”
“让营地比你来时更干净”

1.1
永远抛不掉代码， 归置良好的需求就像代码易于正式， 也能作为代码的可执行测试来使用

1.2
“稍后等于用不”， 从小处着手改善代码。糟糕的代码不止拖慢进度， 还会毁了公司

1.3
混乱--加入新人企图加快进度--新人理解需要时间--生产率反而降低
程序员如同医生， 直接决定软件的质量， 遵循不了解混乱风险的经理的意愿， 也是不专业的
制作混乱无助于赶上进度， 唯一的方法是： 始终尽可能保持代码整洁
需要有“代码感”， 需要遵循大量的小技巧和进行大量的练习
整洁代码： 愉悦， 如同阅读散文， “干净利落的抽象”， 整洁系于测试之上， 小块的代码， 功能单一， 没有重复的代码， 明确、简单、有力

1.4
代码也有流派， 这本书是对象导师（Object Mentor）整洁代码流派
并没有最好的流派， 需要取各家至所长

----------


2018-8-8 12:36--12:42 22:00--22:40
#### 第二章 有意义的命名
如果需要注释, 命名就不算名副其实

2.2
命名需要让人容易理解和修改代码
尽量语义化

2.3
避免误导， 不要使用与本意相悖的词， 不要使用太长的名字， O 和 l不要使用

2.4
做有意义的区分
不要使用数字系列命名， Info和data等等含糊的名称不要使用， 例如customerInfo和customer并没有区别

2.5
使用读得出来的名称
使用单词而非一些缩写

2.6
使用可搜索的名称
例如一些常量使用MAX_VALUE等等有意义的名称代替

2.7
避免使用编码， 因为编码也算一种语言， 会增加理解的负担， 例如
- 匈牙利标记法
- 成员前缀
- 接口和实现， 例如iFactory不如Factory好

2.8
避免思维映射
专业术语可以放心使用， “明确是王道”

2.9
类名不应该是动词， 应该是名词或者名词短语

2.10
方法名应该是动词或者动词短语

2.11
不要使用俚语， 使用明确的名称

2.12
一个概念对应一个词， fetch, retrieve, get等等宽泛的词， 少用

2.13
别用双关语
一个单词只用于一个目的

2.14
只有程序员才读你的代码， 放心使用专业词汇

2.15
使用源自问题领域的名称

2.16
添加有意义的语境， 表示相关操作的变量放在一起， 可以自然而然地知道他们的用法

2.17
不要添加没用的语境
当短名称足够好的时候， 使用短名称即可

----------

2018-8-8 22:41--23:00 2018-8-9 8:30--
#### 第三章 函数
函数的第一规则是短小， 第二条规则是， 还要更短小
if， else, while等语句， 代码块应该只有一行
函数应该做一件事， 做好这件事， 只做这件事
自顶向下读代码
最理想的参数数量是零
大师级程序员把系统当作故事来讲， 而不是当作程序来写

3.1
短小
函数20行封顶最佳
每个函数都只说一件事, 而且, 每个函数都依序把你带到下一个函数
代码块应该只有一行

3.2
只做一件事
可以将事情用TO起头段落来描述, 如果可以描述清楚(都在同一个抽象层里面), 这个就只是一个事情, 应该由一个函数来做

3.3
每个函数一个抽象层级
函数中不要混杂不同的抽象层级, 否则容易让人迷惑
最后每个函数后面都跟着下一抽象层级的函数, 这样可以自顶向下阅读代码, 便于理解
最上层的是最大的抽象层, 紧接的是这个层的分解和实现....最下层是最后的具体细节, 类似金字塔原则

3.4
switch语句
switch天生要做多件事, 需要尽量确保switch都埋藏在较低的层级, 而且永远不要重复, 如果是支持多态的语言, 可以使用多态来实现
对于switch语句, 如果只出现一次, 可以埋到创建多态对象的工厂里面, 隐藏在某个继承关系中, 在系统其他部分看不到

3.5
使用描述行名称
函数越短小, 功能越集中, 越容易取一个好名字
长而具有描述性的名字, 比短而令人费解的好, 但是, 如果可以, 太长的名字往往表示有多个抽象层, 可以拆分成多个短小的函数

3.6
函数参数
最好不过2个参数
--p38